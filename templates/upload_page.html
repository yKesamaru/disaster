{% extends "base.html" %}
{% block content %}
<h1 class="title">Choose a photo that clearly shows the face</h1>

<img src="static/images/family.png" style="width: 200px">

<p class="has-text-left box">
    Upload a photo that clearly shows the face of the person you are looking for. <br />
    You can select it by pressing the "Choose a photo" button.
</p>
<form method="post" enctype="multipart/form-data" action="uploads">

    <label class="button is-info">
        Choose a photo
        <input type="file" id="selected_file" name="img_file" style="display: none;" accept="image/*">
    </label>

    <!-- For demonstration site built on heroku -->
    <!-- <a href="{{ url_for('heroku_photos') }}">
        <button class="button is-info">Choose a photo</button>
    </a> -->
    <!-- end -->

    <input id="upload" class="button is-primary" type="submit" value="upload" disabled>
</form>
<img id="file-preview" style="width: 70%; margin: 1em; border-radius: 1em;">

<p class="has-text-left">
    <strong>Technical description<br /></strong>
    Assuming that the cameras installed in the shelters are taking videos of people evacuating, we created numerical data of the faces using Disaster in advance.<br>
    The video below shows that.<br>
    It is judged that <u>only the person in the video</u> is in the evacuation center.
</p>
<iframe width="90%" src="https://www.youtube.com/embed/ROBCMF3gtmo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    
<p class="has-text-left">
    By tapping the photo below, you can <u>download the photo of the person appearing in the video</u>.<br />
    Please upload the downloaded photo.
</p>
<div>
<a href="static/photos/01.png" download><img id="upload" style="border-radius: 10px" width="80" src="static/photos/01.png"></a>
<a href="static/photos/02.png" download><img id="upload" style="border-radius: 10px" width="80" src="static/photos/02.png"></a>
<a href="static/photos/03.png" download><img id="upload" style="border-radius: 10px" width="80" src="static/photos/03.png"></a>
<a href="static/photos/04.png" download><img id="upload" style="border-radius: 10px" width="80" src="static/photos/04.png"></a>
<a href="static/photos/05.png" download><img id="upload" style="border-radius: 10px" width="80" src="static/photos/05.png"></a>
<a href="static/photos/06.png" download><img id="upload" style="border-radius: 10px" width="80" src="static/photos/06.png"></a>
<a href="static/photos/07.png" download><img id="upload" style="border-radius: 10px" width="80" src="static/photos/07.png"></a>
<a href="static/photos/08.png" download><img id="upload" style="border-radius: 10px" width="80" src="static/photos/08.png"></a>
<a href="static/photos/09.png" download><img id="upload" style="border-radius: 10px" width="80" src="static/photos/09.png"></a>
<a href="static/photos/10.png" download><img id="upload" style="border-radius: 10px" width="80" src="static/photos/10.png"></a>
<a href="static/photos/11.png" download><img id="upload" style="border-radius: 10px" width="80" src="static/photos/11.png"></a>
<a href="static/photos/12.png" download><img id="upload" style="border-radius: 10px" width="80" src="static/photos/12.png"></a>
<a href="static/photos/13.png" download><img id="upload" style="border-radius: 10px" width="80" src="static/photos/13.png"></a>
<a href="static/photos/14.png" download><img id="upload" style="border-radius: 10px" width="80" src="static/photos/14.png"></a>
<!-- <a href="static/photos/15.png" download><img id="upload" style="border-radius: 10px" width="80" src="static/photos/15.png"></a> -->
<a href="static/photos/16.png" download><img id="upload" style="border-radius: 10px" width="80" src="static/photos/16.png"></a>
<a href="static/photos/17.png" download><img id="upload" style="border-radius: 10px" width="80" src="static/photos/17.png"></a>
<a href="static/photos/18.png" download><img id="upload" style="border-radius: 10px" width="80" src="static/photos/18.png"></a>
<a href="static/photos/19.png" download><img id="upload" style="border-radius: 10px" width="80" src="static/photos/19.png"></a>
<a href="static/photos/20.png" download><img id="upload" style="border-radius: 10px" width="80" src="static/photos/20.png"></a>
<a href="static/photos/21.png" download><img id="upload" style="border-radius: 10px" width="80" src="static/photos/21.png"></a>
</div>
<script>
    document.getElementById('selected_file').addEventListener('change', function (e) {
        var file = e.target.files[0];
        var blobUrl = window.URL.createObjectURL(file);
        var img = document.getElementById('file-preview');
        img.src = blobUrl;
        document.getElementById("upload").disabled = false;
    });

    document.getElementById("upload").addEventListener("click", function (e) {
        //Loading image (display)
        document.getElementById('loading').classList.remove('hidden');
    });
</script>
{% endblock %}